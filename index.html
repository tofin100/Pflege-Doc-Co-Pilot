<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Skyjo Scoreboard (3 Spieler) ‚Äì Sprachsteuerung</title>
  <style>
    :root{
      --bg:#070b14;
      --panel:rgba(255,255,255,.06);
      --panel2:rgba(255,255,255,.035);
      --border:rgba(255,255,255,.12);
      --text:#eef3ff;
      --muted:#9fb0d0;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --good:#34d399;
      --bad:#fb7185;
      --warn:#f59e0b;
      --shadow:0 18px 50px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(900px 520px at 15% 0%, rgba(125,211,252,.14), transparent 55%),
        radial-gradient(900px 520px at 85% 10%, rgba(167,139,250,.12), transparent 55%),
        var(--bg);
      color:var(--text);
    }
    .wrap{max-width:980px;margin:34px auto;padding:16px}
    .hero{
      border:1px solid var(--border);
      border-radius:22px;
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      box-shadow: var(--shadow);
      padding:18px;
      margin-bottom:14px;
    }
    .top{display:flex;justify-content:space-between;gap:14px;flex-wrap:wrap;align-items:flex-start}
    h1{margin:0;font-size:26px;letter-spacing:.2px}
    .sub{margin:10px 0 0 0;color:var(--muted);line-height:1.5;max-width:760px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      border:1px solid var(--border);
      background:rgba(0,0,0,.16);
      color:var(--muted);
      font-weight:900;
      white-space:nowrap;
    }
    .pill .dot{width:10px;height:10px;border-radius:99px;background:var(--good);box-shadow:0 0 18px rgba(52,211,153,.35)}
    .pill .dot.warn{background:var(--warn);box-shadow:0 0 18px rgba(245,158,11,.35)}
    .pill .dot.bad{background:var(--bad);box-shadow:0 0 18px rgba(251,113,133,.35)}
    .grid{display:grid;gap:14px}
    @media(min-width:940px){ .grid{grid-template-columns:1.05fr .95fr} }

    .card{
      border:1px solid var(--border);
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .head{
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;
    }
    .head h2{margin:0;font-size:16px}
    .meta{color:var(--muted);font-size:12px}
    .body{padding:14px 16px}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    label{font-size:12px;color:var(--muted);font-weight:900}
    input[type="text"], input[type="number"]{
      background:rgba(255,255,255,.03);
      border:1px solid var(--border);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      font-size:14px;
      outline:none;
    }
    input[type="text"]{min-width:180px}
    input[type="number"]{width:120px}
    .btn{
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 14px;
      border-radius:12px;
      font-weight:950;
      cursor:pointer;
      user-select:none;
    }
    .btn:hover{background:rgba(255,255,255,.10)}
    .btn.danger{border-color:rgba(251,113,133,.35)}
    .btn.danger:hover{background:rgba(251,113,133,.12)}
    .btn.soft{border-color:rgba(125,211,252,.25)}
    .btn.soft:hover{background:rgba(125,211,252,.10)}
    .btn.voice{
      border-color:rgba(52,211,153,.28);
      background:rgba(52,211,153,.10);
    }
    .btn.voice:hover{background:rgba(52,211,153,.16)}
    .btn.voice.stop{
      border-color:rgba(251,113,133,.35);
      background:rgba(251,113,133,.12);
    }
    .btn.voice.stop:hover{background:rgba(251,113,133,.18)}
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:11px;
      color:var(--muted);
      border:1px solid var(--border);
      background:rgba(0,0,0,.22);
      padding:3px 7px;
      border-radius:8px;
      user-select:none;
    }

    table{width:100%;border-collapse:separate;border-spacing:0;margin-top:10px}
    th, td{
      border-bottom:1px solid var(--border);
      padding:10px 10px;
      text-align:left;
      font-size:13px;
      vertical-align:top;
    }
    th{color:var(--muted);font-weight:900}
    tr:last-child td{border-bottom:none}
    .totals{
      display:grid;gap:10px;margin-top:10px;
      grid-template-columns:1fr;
    }
    @media(min-width:560px){ .totals{grid-template-columns:1fr 1fr 1fr} }
    .totalBox{
      border:1px solid var(--border);
      border-radius:16px;
      background:rgba(0,0,0,.16);
      padding:12px;
    }
    .name{font-weight:1000}
    .score{font-size:22px;font-weight:1100;margin-top:6px}
    .small{font-size:12px;color:var(--muted);margin-top:6px;line-height:1.35}
    .leader{color:var(--good)}
    .trailer{color:var(--bad)}

    .hint{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.45}
    .foot{margin:18px 0 6px 0;text-align:center;color:var(--muted);font-size:12px;opacity:.9}
    .accent{color:var(--accent);font-weight:1000}
    .accent2{color:var(--accent2);font-weight:1000}

    .voicePanel{
      margin-top:12px;
      border:1px solid rgba(52,211,153,.22);
      background:rgba(52,211,153,.06);
      border-radius:16px;
      padding:12px;
    }
    .voiceLine{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      justify-content:space-between;
    }
    .voiceText{
      margin-top:10px;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background:rgba(0,0,0,.18);
      color:var(--text);
      font-size:13px;
      line-height:1.4;
      min-height:46px;
    }
    .voiceText .muted{ color:var(--muted); }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div class="top">
        <div>
          <h1>Skyjo Scoreboard ¬∑ <span class="accent">3 Spieler</span> ¬∑ <span class="accent2">Voice</span></h1>
          <p class="sub">
            Punkte per Tipp oder per Sprache eintragen. Sprachbefehle: z.B.
            <span class="kbd">runde 12 3 21</span>, <span class="kbd">runde spieler 1 12 spieler 2 3 spieler 3 21</span>,
            <span class="kbd">undo</span>, <span class="kbd">reset</span>, <span class="kbd">namen anna ben chris</span>.
          </p>
        </div>
        <div class="pill" id="pill"><span class="dot" id="pillDot"></span><span id="pillText">bereit</span></div>
      </div>
    </div>

    <div class="grid">
      <!-- Eingabe -->
      <div class="card">
        <div class="head">
          <h2>Runde eintragen</h2>
          <div class="meta">Enter = Add ¬∑ <span class="kbd">Alt+R</span> = Voice Start/Stop</div>
        </div>
        <div class="body">
          <div class="row" style="margin-bottom:10px">
            <div>
              <label>Spieler 1</label><br>
              <input id="n1" type="text" placeholder="Name" />
            </div>
            <div>
              <label>Spieler 2</label><br>
              <input id="n2" type="text" placeholder="Name" />
            </div>
            <div>
              <label>Spieler 3</label><br>
              <input id="n3" type="text" placeholder="Name" />
            </div>
            <button class="btn soft" id="saveNames" type="button">Namen speichern</button>
          </div>

          <div class="row">
            <div>
              <label>Punkte Runde (Spieler 1)</label><br>
              <input id="s1" type="number" inputmode="numeric" step="1" placeholder="z.B. 12" />
            </div>
            <div>
              <label>Punkte Runde (Spieler 2)</label><br>
              <input id="s2" type="number" inputmode="numeric" step="1" placeholder="z.B. 3" />
            </div>
            <div>
              <label>Punkte Runde (Spieler 3)</label><br>
              <input id="s3" type="number" inputmode="numeric" step="1" placeholder="z.B. 21" />
            </div>
            <button class="btn" id="addRound" type="button">Runde hinzuf√ºgen</button>
          </div>

          <!-- Voice Panel -->
          <div class="voicePanel">
            <div class="voiceLine">
              <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
                <button class="btn voice" id="voiceStart" type="button">üé§ Voice Start</button>
                <button class="btn voice stop" id="voiceStop" type="button">‚èπ Voice Stop</button>
                <span class="kbd">Beispiele:</span>
                <span class="kbd">runde 12 3 21</span>
                <span class="kbd">undo</span>
                <span class="kbd">reset</span>
              </div>
              <div class="meta">Deutsch (de-DE) ¬∑ Browser SpeechRecognition</div>
            </div>
            <div class="voiceText" id="voiceBox">
              <span class="muted">Voice bereit. Dr√ºcke ‚ÄûVoice Start‚Äú und sag z.B. ‚ÄûRunde 12 3 21‚Äú.</span>
            </div>
            <div class="hint">
              <b>Voice Commands:</b><br>
              ‚Ä¢ <span class="kbd">runde 12 3 21</span> (f√ºgt Runde hinzu)<br>
              ‚Ä¢ <span class="kbd">runde spieler 1 12 spieler 2 3 spieler 3 21</span> (auch ok)<br>
              ‚Ä¢ <span class="kbd">undo</span> / <span class="kbd">letzte runde l√∂schen</span><br>
              ‚Ä¢ <span class="kbd">reset</span> / <span class="kbd">alles zur√ºcksetzen</span><br>
              ‚Ä¢ <span class="kbd">namen anna ben chris</span> (setzt Namen + speichert)<br>
              ‚Ä¢ <span class="kbd">stopp</span> (stoppt Voice)
            </div>
          </div>

          <div class="hint" id="status"><b>Status:</b> Bereit.</div>

          <div class="totals" id="totals"></div>

          <div class="row" style="margin-top:12px">
            <button class="btn soft" id="undo" type="button">Letzte Runde l√∂schen</button>
            <button class="btn danger" id="reset" type="button">Alles zur√ºcksetzen</button>
          </div>
          <div class="hint">
            Skyjo-Reminder: niedrigster Score gewinnt. Leader = aktuell am wenigsten Punkte.
          </div>
        </div>
      </div>

      <!-- Verlauf -->
      <div class="card">
        <div class="head">
          <h2>Runden-Verlauf</h2>
          <div class="meta" id="roundCount">0 Runden</div>
        </div>
        <div class="body">
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th id="th1">Spieler 1</th>
                <th id="th2">Spieler 2</th>
                <th id="th3">Spieler 3</th>
                <th>Œ£</th>
              </tr>
            </thead>
            <tbody id="rows">
              <tr><td colspan="5" style="color:var(--muted)">Noch keine Runde eingetragen.</td></tr>
            </tbody>
          </table>
          <div class="foot">Tip: Nach jeder Runde eintragen ‚Üí fertig.</div>
        </div>
      </div>
    </div>

    <div class="foot">
      Minimal, schnell, perfekt f√ºr den Tisch. ‚ú®
    </div>
  </div>

<script>
  const KEY = "skyjo_scoreboard_v1_voice";

  const state = {
    names: ["Spieler 1","Spieler 2","Spieler 3"],
    rounds: [] // each: [a,b,c]
  };

  function $(id){ return document.getElementById(id); }

  function setStatus(msg){
    $("status").innerHTML = "<b>Status:</b> " + msg;
  }

  function setPill(kind, text){
    const dot = $("pillDot");
    const pillText = $("pillText");
    dot.classList.remove("warn","bad");
    if(kind === "warn") dot.classList.add("warn");
    if(kind === "bad") dot.classList.add("bad");
    pillText.textContent = text;
  }

  function setVoiceBox(html){
    $("voiceBox").innerHTML = html;
  }

  function load(){
    try{
      const raw = localStorage.getItem(KEY);
      if(!raw) return;
      const saved = JSON.parse(raw);
      if(saved?.names?.length === 3) state.names = saved.names;
      if(Array.isArray(saved?.rounds)) state.rounds = saved.rounds;
    } catch {}
  }

  function save(){
    localStorage.setItem(KEY, JSON.stringify(state));
  }

  function renderNames(){
    $("n1").value = state.names[0];
    $("n2").value = state.names[1];
    $("n3").value = state.names[2];

    $("th1").textContent = state.names[0];
    $("th2").textContent = state.names[1];
    $("th3").textContent = state.names[2];
  }

  function totals(){
    const t = [0,0,0];
    for(const r of state.rounds){
      t[0] += r[0]; t[1] += r[1]; t[2] += r[2];
    }
    return t;
  }

  function renderTotals(){
    const t = totals();
    const min = Math.min(...t);
    const max = Math.max(...t);

    const box = (i)=> {
      const isLeader = t[i] === min && (t.filter(x=>x===min).length === 1);
      const isTrailer = t[i] === max && (t.filter(x=>x===max).length === 1);
      const cls = isLeader ? "leader" : isTrailer ? "trailer" : "";
      const hint = isLeader ? "Aktuell vorne (niedrigster Score)" : isTrailer ? "Aktuell hinten" : "‚Äî";

      return `
        <div class="totalBox">
          <div class="name ${cls}">${state.names[i]}</div>
          <div class="score ${cls}">${t[i]}</div>
          <div class="small">${hint}</div>
        </div>`;
    };

    $("totals").innerHTML = box(0)+box(1)+box(2);
  }

  function renderRounds(){
    $("roundCount").textContent = `${state.rounds.length} Runden`;
    const tbody = $("rows");

    if(state.rounds.length === 0){
      tbody.innerHTML = `<tr><td colspan="5" style="color:var(--muted)">Noch keine Runde eingetragen.</td></tr>`;
      return;
    }

    tbody.innerHTML = state.rounds.map((r, idx)=>{
      const sum = r[0]+r[1]+r[2];
      return `
        <tr>
          <td>${idx+1}</td>
          <td>${r[0]}</td>
          <td>${r[1]}</td>
          <td>${r[2]}</td>
          <td><b>${sum}</b></td>
        </tr>`;
    }).join("");
  }

  function render(){
    renderNames();
    renderTotals();
    renderRounds();
    save();
  }

  function parseIntSafe(v){
    if(v === "" || v == null) return null;
    const n = Number(v);
    if(!Number.isFinite(n)) return null;
    return Math.trunc(n);
  }

  function clearScoreInputs(){
    $("s1").value = "";
    $("s2").value = "";
    $("s3").value = "";
    $("s1").focus();
  }

  function addRound(a=null,b=null,c=null, source="manual"){
    const A = (a===null) ? parseIntSafe($("s1").value) : a;
    const B = (b===null) ? parseIntSafe($("s2").value) : b;
    const C = (c===null) ? parseIntSafe($("s3").value) : c;

    if(A === null || B === null || C === null){
      setStatus("Bitte alle 3 Punktzahlen eingeben.");
      return false;
    }

    state.rounds.push([A,B,C]);
    setStatus(`Runde ${state.rounds.length} hinzugef√ºgt: ${A}, ${B}, ${C}`);
    if(source === "voice"){
      setVoiceBox(`‚úÖ <b>Runde hinzugef√ºgt</b>: ${A}, ${B}, ${C}<br><span class="muted">Sag wieder: ‚ÄûRunde 5 2 14‚Äú oder ‚Äûundo‚Äú.</span>`);
    }
    render();
    clearScoreInputs();
    return true;
  }

  function saveNames(){
    const n1 = $("n1").value.trim() || "Spieler 1";
    const n2 = $("n2").value.trim() || "Spieler 2";
    const n3 = $("n3").value.trim() || "Spieler 3";
    state.names = [n1,n2,n3];
    setStatus("Namen gespeichert.");
    render();
  }

  function saveNamesFromArray(arr){
    const n1 = (arr[0] || "Spieler 1").trim() || "Spieler 1";
    const n2 = (arr[1] || "Spieler 2").trim() || "Spieler 2";
    const n3 = (arr[2] || "Spieler 3").trim() || "Spieler 3";
    state.names = [n1,n2,n3];
    setStatus("Namen per Sprache gesetzt.");
    setVoiceBox(`‚úÖ <b>Namen gesetzt</b>: ${n1}, ${n2}, ${n3}`);
    render();
  }

  function undo(source="manual"){
    if(state.rounds.length === 0){
      setStatus("Keine Runde zum L√∂schen.");
      if(source==="voice") setVoiceBox("‚ö†Ô∏è Keine Runde zum L√∂schen.");
      return;
    }
    const last = state.rounds.pop();
    setStatus(`Letzte Runde gel√∂scht (${last.join(", ")}).`);
    if(source==="voice") setVoiceBox(`üóëÔ∏è <b>Letzte Runde gel√∂scht</b>: ${last.join(", ")}`);
    render();
  }

  function resetAll(source="manual"){
    if(source==="manual"){
      if(!confirm("Wirklich alles zur√ºcksetzen?")) return;
    }
    state.names = ["Spieler 1","Spieler 2","Spieler 3"];
    state.rounds = [];
    setStatus("Zur√ºckgesetzt.");
    if(source==="voice") setVoiceBox("üß® <b>Alles zur√ºckgesetzt</b>.");
    render();
    clearScoreInputs();
  }

  // Wire up
  $("addRound").addEventListener("click", () => addRound(null,null,null,"manual"));
  $("saveNames").addEventListener("click", saveNames);
  $("undo").addEventListener("click", () => undo("manual"));
  $("reset").addEventListener("click", () => resetAll("manual"));

  // Enter adds round
  ["s1","s2","s3"].forEach(id=>{
    $(id).addEventListener("keydown", (e)=>{
      if(e.key === "Enter") addRound(null,null,null,"manual");
    });
  });

  // =========================
  // Voice Recognition
  // =========================
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  let rec = null;
  let listening = false;

  function normalizeText(t){
    return (t || "")
      .toLowerCase()
      .replace(/[.,;:!?]/g, " ")
      .replace(/\s+/g, " ")
      .trim();
  }

  // simple german number words -> digits (0-30)
  const NUM_WORDS = {
    "null":0,"eins":1,"ein":1,"eine":1,"einen":1,"zwei":2,"drei":3,"vier":4,"f√ºnf":5,"fuenf":5,"sechs":6,"sieben":7,"acht":8,"neun":9,
    "zehn":10,"elf":11,"zw√∂lf":12,"zwoelf":12,"dreizehn":13,"vierzehn":14,"f√ºnfzehn":15,"fuenfzehn":15,"sechzehn":16,"siebzehn":17,
    "achtzehn":18,"neunzehn":19,"zwanzig":20,"einundzwanzig":21,"zweiundzwanzig":22,"dreiundzwanzig":23,"vierundzwanzig":24,
    "f√ºnfundzwanzig":25,"fuenfundzwanzig":25,"sechsundzwanzig":26,"siebenundzwanzig":27,"achtundzwanzig":28,"neunundzwanzig":29,"drei√üig":30,"dreissig":30
  };

  function extractNumbers(text){
    const t = normalizeText(text);
    const tokens = t.split(" ");
    const nums = [];
    for(const tok of tokens){
      if(tok === "") continue;
      if(/^-?\d+$/.test(tok)){
        nums.push(parseInt(tok,10));
        continue;
      }
      if(NUM_WORDS.hasOwnProperty(tok)){
        nums.push(NUM_WORDS[tok]);
        continue;
      }
    }
    return nums;
  }

  function startVoice(){
    if(!SR){
      setStatus("Voice nicht verf√ºgbar (Browser unterst√ºtzt SpeechRecognition nicht).");
      setPill("bad","voice: nicht verf√ºgbar");
      setVoiceBox("‚ùå <b>Voice nicht verf√ºgbar</b> ‚Äì nutze Chrome/Edge (Desktop/Android).");
      return;
    }
    if(listening) return;

    rec = new SR();
    rec.lang = "de-DE";
    rec.continuous = true;
    rec.interimResults = true;

    rec.onstart = () => {
      listening = true;
      setPill("warn","voice: h√∂rt zu");
      setVoiceBox("üé§ <b>H√∂re zu‚Ä¶</b> Sag z.B.: <span class='kbd'>runde 12 3 21</span>");
    };

    rec.onend = () => {
      listening = false;
      setPill("","bereit");
      setVoiceBox("<span class='muted'>Voice gestoppt.</span>");
    };

    rec.onerror = (e) => {
      listening = false;
      setPill("bad","voice: error");
      setVoiceBox("‚ùå <b>Voice Error</b>: " + (e.error || "unknown"));
    };

    rec.onresult = (event) => {
      let interim = "";
      let finalText = "";
      for(let i = event.resultIndex; i < event.results.length; i++){
        const res = event.results[i];
        const txt = res[0]?.transcript || "";
        if(res.isFinal) finalText += txt;
        else interim += txt;
      }

      if(interim.trim()){
        setVoiceBox(`üéß <b>H√∂re‚Ä¶</b> <span class="muted">${interim.trim()}</span>`);
      }

      if(finalText.trim()){
        handleVoice(finalText.trim());
      }
    };

    try{
      rec.start();
      setStatus("Voice gestartet. Sag: ‚Äûrunde 12 3 21‚Äú.");
    }catch(e){
      setStatus("Voice konnte nicht gestartet werden.");
      setPill("bad","voice: start failed");
    }
  }

  function stopVoice(){
    try{ rec && rec.stop(); }catch(e){}
  }

  function handleVoice(text){
    const t = normalizeText(text);

    // Stop commands
    if(t === "stopp" || t === "stop" || t.includes("voice stop") || t.includes("aufnahme stop")){
      setVoiceBox("‚èπÔ∏è <b>Stop</b>");
      stopVoice();
      return;
    }

    // Undo
    if(t === "undo" || t.includes("letzte runde") || t.includes("runde l√∂schen") || t.includes("runde loeschen")){
      undo("voice");
      return;
    }

    // Reset
    if(t === "reset" || t.includes("alles zur√ºcksetzen") || t.includes("alles zuruecksetzen") || t.includes("zur√ºcksetzen") || t.includes("zuruecksetzen")){
      resetAll("voice");
      return;
    }

    // Names: "namen anna ben chris"
    if(t.startsWith("namen ")){
      const rest = t.replace(/^namen\s+/,"").trim();
      const parts = rest.split(" ").filter(Boolean);
      if(parts.length >= 3){
        saveNamesFromArray([parts[0],parts[1],parts[2]]);
      } else {
        setVoiceBox("‚ö†Ô∏è Bitte 3 Namen sagen: <span class='kbd'>namen anna ben chris</span>");
      }
      return;
    }

    // Round commands:
    // 1) "runde 12 3 21"  -> take first 3 numbers
    // 2) "runde spieler 1 12 spieler 2 3 spieler 3 21" -> also works via numbers extraction
    if(t.startsWith("runde")){
      const nums = extractNumbers(t);
      if(nums.length >= 3){
        const ok = addRound(nums[0], nums[1], nums[2], "voice");
        if(!ok) setVoiceBox("‚ö†Ô∏è Konnte Runde nicht hinzuf√ºgen. Sag: <span class='kbd'>runde 12 3 21</span>");
      } else {
        setVoiceBox("‚ö†Ô∏è Ich brauche 3 Zahlen. Beispiel: <span class='kbd'>runde 12 3 21</span>");
      }
      return;
    }

    // Fallback: if user only says three numbers (e.g. "12 3 21")
    const nums = extractNumbers(t);
    if(nums.length === 3){
      addRound(nums[0], nums[1], nums[2], "voice");
      return;
    }

    setVoiceBox(`ü§î Unbekannter Befehl: <span class="muted">"${text}"</span><br><span class="muted">Sag z.B. ‚Äûrunde 12 3 21‚Äú, ‚Äûundo‚Äú, ‚Äûreset‚Äú, ‚Äûnamen anna ben chris‚Äú.</span>`);
  }

  $("voiceStart").addEventListener("click", startVoice);
  $("voiceStop").addEventListener("click", stopVoice);

  // Alt+R toggles voice
  window.addEventListener("keydown", (e) => {
    if(e.altKey && e.key.toLowerCase() === "r"){
      e.preventDefault();
      if(listening) stopVoice();
      else startVoice();
    }
  });

  // Boot
  load();
  render();
  clearScoreInputs();
  setPill("", "bereit");
</script>
</body>
</html>